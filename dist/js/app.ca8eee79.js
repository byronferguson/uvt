(function(t){function e(e){for(var r,i,o=e[0],u=e[1],l=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&f.push(s[i][0]),s[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(t[r]=u[r]);c&&c(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],r=!0,o=1;o<n.length;o++){var u=n[o];0!==s[u]&&(r=!1)}r&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var r={},s={app:0},a=[];function i(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)i.d(n,r,function(e){return t[e]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/uvt/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var c=u;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"15d1":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var r=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mx-16"},[n("h1",{staticClass:"h1"},[t._v("Playable Videos")]),n("section",{staticClass:"flex justify-around"},t._l(t.videos,(function(t){return n("UvtVideo",{key:t.id,attrs:{src:t.src,type:t.type,fragments:t.fragments,width:500}})})),1),n("hr"),n("UvtPlayground")],1)},a=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mb-12"},[n("h1",{staticClass:"h1"},[t._v("Fragment Playground")]),t._m(0),n("UvtTimeline",{staticClass:"mx-auto",attrs:{width:t.width,duration:1e3*t.duration,fragments:t.fragments}}),n("UvtElapsed",{staticClass:"text-2xl text-right mr-8",attrs:{elapsed:t.elapsedUvt,duration:t.durationInMs}}),n("section",{staticClass:"flex"},[n("form",{staticClass:"card flex-1"},[n("div",{staticClass:"mb-4"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"start"}},[t._v("\n          Duration (s)\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.duration,expression:"duration"}],staticClass:"input",attrs:{id:"start",type:"number",min:"1"},domProps:{value:t.duration},on:{input:function(e){e.target.composing||(t.duration=e.target.value)}}})])]),n("form",{staticClass:"card flex-1"},[n("div",{staticClass:"mb-4"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"start"}},[t._v("\n          Start Time (ms)\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.start,expression:"start"}],staticClass:"input",attrs:{id:"start",type:"number"},domProps:{value:t.start},on:{input:function(e){e.target.composing||(t.start=e.target.value)}}})]),n("div",{staticClass:"mb-4"},[n("label",{staticClass:"block text-gray-700 text-sm font-bold mb-2",attrs:{for:"start"}},[t._v("\n          End Time (ms)\n        ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.end,expression:"end"}],staticClass:"input",attrs:{id:"start",type:"number"},domProps:{value:t.end},on:{input:function(e){e.target.composing||(t.end=e.target.value)}}})]),n("div",{staticClass:"flex items-center justify-between"},[n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.addFragment(e)}}},[t._v("\n          Add Fragment\n        ")])])])]),n("section",{staticClass:"flex"},[n("div",{staticClass:"flex-col flex-1"},[n("h3",{staticClass:"h3"},[t._v("List of Fragments")]),t.fragments.length?n("ul",{staticClass:"card"},t._l(t.fragments,(function(e,r){return n("li",{key:r,staticClass:"fragment-list-item",on:{click:function(){return t.removeFragment(r)}}},[n("div",{staticClass:"flex-col justify-between text-xl"},[n("div",[t._v("Start: "+t._s(e.start))]),n("div",[t._v("End: "+t._s(e.end))])]),n("button",{staticClass:"btn",attrs:{type:"button"},on:{click:function(){return t.removeFragment(r)}}},[n("span",{staticClass:"lnr lnr-cross"})])])})),0):n("div",{staticClass:"card"},[n("h3",{staticClass:"h4"},[t._v("No Fragments to Display")])])]),n("div",{staticClass:"flex-col flex-1"},[n("h3",{staticClass:"h3"},[t._v("List of Slices")]),t.slices.length?n("ul",{staticClass:"card"},t._l(t.slices,(function(e,r){return n("li",{key:r,staticClass:"fragment-list-item"},[n("div",{staticClass:"flex-col justify-between text-xl"},[n("div",[t._v("Start: "+t._s(e.start))]),n("div",[t._v("End: "+t._s(e.end))])])])})),0):n("div",{staticClass:"card"},[n("h3",{staticClass:"h4"},[t._v("No Slices to Display")])])])])],1)},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"card"},[n("p",[t._v('\n      This section can be used to enter various time fragments\n      for evaluation/testing purposes. The fragments are displayed\n      in a list, the "slices" are factored from these fragments and\n      represented by the red line and displayed in a list.\n    ')])])}],u=(n("04ff"),n("c5f6"),n("7cdf"),{methods:{sec2ms:function(t){return Math.floor(1e3*t)},ms2sec:function(t){if(Number.isInteger(t)||Number.parseInt(t,10))return(+t/1e3).toFixed(2);throw new Error("Invalid input parameter")}}}),l=n("75fc"),c=(n("55dd"),{methods:{sortFragments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Object(l["a"])(t).sort((function(t,e){var n=t.start-e.start;return 0===n?t.end-e.end:n}))},generateSlices:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(t.length<=1)return t;for(var e=[],n={},r=0;r<t.length;r++){var s=t[r];n.hasOwnProperty("start")&&(s.start>=n.end?(e.push(n),n={}):s.end>n.end&&(n.end=s.end)),n.hasOwnProperty("start")||(n.start=s.start,n.end=s.end)}return e.push(n),e},calcUvt:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[{}];return t.reduce((function(t,e){return t+(e.end-e.start)}),0)},uvtFromFragments:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=this.sortFragments(t),n=this.generateSlices(e);return this.calcUvt(n)}}}),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._v("\n  Elapsed UVT: "+t._s(t.elapsedUvt)+"\n")])},f=[],p={name:"UvtElapsed",mixins:[u,c],props:{elapsed:{type:Number,required:!0},duration:{type:Number,required:!0}},computed:{elapsedInSec:function(){return this.ms2sec(this.elapsed)},durationInSec:function(){return this.ms2sec(this.duration)},displayElapsedPercentage:function(){return this.duration?(this.elapsed/this.duration*100).toFixed(2):0},elapsedUvt:function(){return"".concat(this.elapsedInSec,"s / ").concat(this.durationInSec,"s ( ").concat(this.displayElapsedPercentage,"% )")}}},m=p,v=n("2877"),h=Object(v["a"])(m,d,f,!1,null,null,null),g=h.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.fragments.length?n("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",baseProfile:"tiny",version:"1.2",viewBox:t.viewBox,width:t.width}},t._l(t.slices,(function(e,r){return n("line",{key:r,style:t.style,attrs:{x1:e.start,x2:e.end,"stroke-width":t.calcHeight()}})})),0):t._e()},b=[],x={name:"UvtTimeline",mixins:[c],props:{width:{type:Number,required:!0},duration:{type:Number,required:!0},color:{type:String,required:!1,default:function(){return"rgb(255, 0 , 0)"}},fragments:{type:Array,required:!0}},computed:{viewBox:function(){return"0 0 ".concat(this.duration," ").concat(this.calcHeight())},style:function(){return"stroke:".concat(this.color)},slices:function(){var t=this.sortFragments(this.fragments);return this.generateSlices(t)}},methods:{calcHeight:function(){return.015*this.duration}}},w=x,_=Object(v["a"])(w,y,b,!1,null,null,null),C=_.exports,P={name:"UvtPlayground",mixins:[u,c],components:{UvtElapsed:g,UvtTimeline:C},data:function(){return{duration:30,start:null,end:null,fragments:[]}},computed:{width:function(){return window.screen.width},durationInMs:function(){return 1e3*this.duration},elapsedUvt:function(){return this.calcUvt(this.slices)},slices:function(){var t=this.sortFragments(this.fragments);return this.generateSlices(t)}},methods:{addFragment:function(){var t=+this.start,e=+this.end;t>=0&&e<=1e3*this.duration&&t<=e&&(this.fragments.push({start:t,end:e}),this.start=null,this.end=null)},removeFragment:function(t){this.fragments.splice(t,1)}}},O=P,U=(n("5919"),Object(v["a"])(O,i,o,!1,null,"3d8580f4",null)),j=U.exports,S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex-col m-8"},[n("video-player",{ref:"videoPlayer",staticClass:"video-player-box",attrs:{options:t.playerOptions},on:{play:function(e){return t.onPlayerPlay(e)},pause:function(e){return t.onPlayerPause(e)},timeupdate:function(e){return t.onPlayerTimeUpdate(e)}}}),n("UvtTimeline",{staticClass:"uvt-timeline",attrs:{width:t.width-140,duration:t.duration,fragments:t.internalFragments}}),n("UvtElapsed",{attrs:{elapsed:t.elapsedUvt,duration:t.duration}})],1)},F=[],E=(n("8e6e"),n("ac6a"),n("456d"),n("bd86")),T=(n("fda2"),n("d6d3"));function k(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?k(n,!0).forEach((function(e){Object(E["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var N={start:0,end:0},D={name:"UvtVideo",mixins:[u,c],components:{videoPlayer:T["videoPlayer"],UvtElapsed:g,UvtTimeline:C},props:{src:{type:String,required:!0},type:{type:String,required:!1,default:function(){return"video/mp4"}},muted:{type:Boolean,required:!1,default:function(){return!0}},lang:{type:String,required:!1,default:function(){return"en"}},width:{type:Number,required:!0},fragments:{type:Array,required:!1,default:function(){return[]}}},data:function(){return{playerOptions:{muted:this.muted,language:this.lang,sources:[{type:this.type,src:this.src}],width:this.width},duration:0,internalFragments:Object(l["a"])(this.fragments)}},computed:{displayElapsedUvt:function(){return this.ms2sec(this.elapsedUvt)},displayDuration:function(){return this.ms2sec(this.duration)},displayElapsedPercentage:function(){return this.duration?(this.elapsedUvt/this.duration*100).toFixed(2):0},elapsedUvt:function(){var t=this.sortFragments(this.internalFragments),e=this.generateSlices(t);return this.calcUvt(e)}},methods:{onPlayerPlay:function(t){this.duration<1&&(this.duration=this.sec2ms(this.$refs.videoPlayer.player.duration())),N.start=this.sec2ms(t.currentTime())},onPlayerPause:function(t){N.end=this.sec2ms(t.currentTime()),this.internalFragments.push(q({},N))},onPlayerTimeUpdate:function(t){var e=this.sec2ms(t.currentTime());t.scrubbing()?N.start=e:(N.end=e,this.internalFragments.push(q({},N)),N.start=N.end)}}},I=D,$=(n("a915"),Object(v["a"])(I,S,F,!1,null,"e9f03f6e",null)),M=$.exports,V={name:"App",components:{UvtPlayground:j,UvtVideo:M},data:function(){return{videos:[{id:1,src:"/assets/CreaturesUnderwater.mp4",type:"video/mp4",fragments:[{start:9e3,end:12e3},{start:2e3,end:4e3},{start:0,end:1e3},{start:0,end:500},{start:2e3,end:3e3},{start:500,end:5e3}]},{id:2,src:"/assets/WhiteKeyboard.mp4",type:"video/mp4",fragments:[]}]}}},A=V,B=(n("c3ff"),Object(v["a"])(A,s,a,!1,null,"36b2edfc",null)),H=B.exports;n("ba8c");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(H)}}).$mount("#app")},5919:function(t,e,n){"use strict";var r=n("b54d"),s=n.n(r);s.a},"8b76":function(t,e,n){},a915:function(t,e,n){"use strict";var r=n("8b76"),s=n.n(r);s.a},b54d:function(t,e,n){},ba8c:function(t,e,n){},c3ff:function(t,e,n){"use strict";var r=n("15d1"),s=n.n(r);s.a}});
//# sourceMappingURL=app.ca8eee79.js.map